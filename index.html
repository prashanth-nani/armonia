<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <body>
    <h1>Armonia</h1>
    Electron <script>document.write(process.versions.electron)</script>.
    Node <script>document.write(process.versions.node)</script>.
    <div id="songlist">
        <ul>
            <li>yes</li>
        </ul>
    </div>
  </body>

  <script>
    // You can also require other files to run in this process
    var Player = require('player');

    window.$ = window.jQuery = require("./js/jquery.js");
    var sqlite3 = require('sqlite3').verbose();
    var db = new sqlite3.Database('armonia.db');

    db.each("SELECT id AS id, title, artist, genre, location FROM song", function(err, row) {
//         console.log(row.id + ": " + row.title);
        $("#songlist ul").append("<li data-loc=\""+row.location+"\">"+row.id+"==="+row.title+"</li><br>")
    });

    $(function () {
        $("ul").on("click", "li", function () {
            let path = $(this).attr("data-loc");
            var player = new Player(path);
            player.stop();
            player.play();
            console.log(path);
        });
    });
  </script>
</html>
